// begin Core.Installer.js
"use strict";var Core=Core||{};Core.Installer=(function(TargetNS){TargetNS.CheckDBData=function(){$('input[name=Subaction]').val('CheckRequirements');var Data=Core.AJAX.SerializeForm($('#FormDB'));Data+='CheckMode=DB;';Core.AJAX.FunctionCall(Core.Config.Get('Baselink'),Data,CheckDBDataCallback);$('input[name=Subaction]').val('DB');};function CheckDBDataCallback(json){if(parseInt(json['Successful'])<1){$('#FormDBResultMessage').html(json['Message']);$('#FormDBResultComment').html(json['Comment']);$('fieldset.ErrorMsg').show();}
else{alert(Core.Config.Get('Installer.CheckDBDataLabel'));$('#FormDBSubmit').removeAttr('disabled');$('fieldset.ErrorMsg, fieldset.CheckDB').hide();$('fieldset.HideMe, div.HideMe').show();}};TargetNS.SelectOutboundMailType=function(obj){var value=$(obj).val();if(value!="sendmail"){$('#InfoSMTP').show();}
else{$('#InfoSMTP, #InfoSMTPAuth').hide().find('input[name=SMTPAuth]').removeAttr('checked');}
$('#OutboundMailDefaultPorts').val($('#OutboundMailType').val());$('#SMTPPort').val($('#OutboundMailDefaultPorts :selected').text());};TargetNS.CheckSMTPAuth=function(obj){if($(obj).is(':checked')){$('#InfoSMTPAuth').show().find('input').removeAttr('disabled');}
else{$('#InfoSMTPAuth input').attr('disabled','disabled').val("");$('#InfoSMTPAuth').hide();}};TargetNS.SkipMailConfig=function(){$('input[name=Skip]').val('1');$('form').submit();};TargetNS.CheckMailConfig=function(){$('input[name=Skip]').val('0');$('input[name=Subaction]').val('CheckRequirements');var Data=Core.AJAX.SerializeForm($('#FormMail'));Data+='CheckMode=Mail;';Core.AJAX.FunctionCall(Core.Config.Get('Baselink'),Data,CheckMailConfigCallback);$('input[name=Subaction]').val('Registration');};function CheckMailConfigCallback(json){if(parseInt(json['Successful'])==1){alert(Core.Config.Get('Installer.CheckMailLabelOne'));$('fieldset.errormsg').hide();$('form').submit();}
else{$('#FormMailResultMessage').html(json['Message']);$('fieldset.ErrorMsg').show();alert(Core.Config.Get('Installer.CheckMailLabelTwo'));}};TargetNS.SkipRegistration=function(){$('input[name=Skip]').val('1');$('form').submit();};return TargetNS;}(Core.Installer||{}));
// end Core.Installer.js
